{"version":3,"sources":["services/api.js","contexts/AuthContext.jsx","pages/Login.jsx","pages/ForgotPassword.jsx","pages/ResetPassword.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["api","axios","create","baseURL","process","REACT_APP_API_URL","interceptors","request","use","config","token","localStorage","getItem","headers","concat","error","Promise","reject","response","async","originalRequest","status","_retry","refreshToken","window","location","href","post","defaults","data","accessToken","setItem","refreshError","removeItem","authService","userData","credentials","logout","getCurrentUser","get","put","email","resetPassword","password","AuthContext","createContext","useAuth","useContext","AuthProvider","_ref","children","user","setUser","useState","loading","setLoading","setError","navigate","useNavigate","useEffect","_error$response","_error$response$data","console","message","checkAuth","value","register","tokens","_error$response2","_error$response2$data","login","_error$response3","_error$response3$data","updateProfile","_error$response4","_error$response4$data","forgotPassword","_error$response5","_error$response5$data","_error$response6","_error$response6$data","isAuthenticated","_jsx","Provider","validationSchema","Yup","required","Login","_location$state","_location$state$from","useLocation","sessionExpired","search","includes","from","state","pathname","formik","useFormik","initialValues","rememberMe","onSubmit","values","replace","Container","component","maxWidth","_jsxs","Box","sx","marginTop","display","flexDirection","alignItems","Typography","variant","mb","Paper","elevation","p","width","textAlign","Alert","severity","handleSubmit","TextField","margin","fullWidth","id","label","name","autoComplete","autoFocus","onChange","handleChange","onBlur","handleBlur","touched","Boolean","errors","helperText","type","FormControlLabel","control","Checkbox","color","checked","Button","mt","disabled","CircularProgress","size","Grid","container","item","xs","Link","RouterLink","to","align","Date","getFullYear","API_BASE_URL","ForgotPassword","successMessage","setSuccessMessage","resetToken","setTimeout","min","confirmPassword","oneOf","ResetPassword","useParams","PrivateRoute","Navigate","theme","createTheme","palette","mode","primary","main","secondary","typography","fontFamily","join","App","ThemeProvider","CssBaseline","LocalizationProvider","dateAdapter","AdapterDateFns","adapterLocale","fr","Router","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"uRAIA,MAAMA,EAAMC,IAAMC,OAAO,CACvBC,QAASC,mIAAYC,mBAAqB,8BAI5CL,EAAIM,aAAaC,QAAQC,IACvBC,IACE,MAAMC,EAAQC,aAAaC,QAAQ,eAMnC,OAJIF,IACFD,EAAOI,QAAuB,cAAC,UAAAC,OAAaJ,IAGvCD,GAETM,GACSC,QAAQC,OAAOF,IAK1Bf,EAAIM,aAAaY,SAASV,IACxBU,GACSA,EAETC,UACE,MAAMC,EAAkBL,EAAMN,OAG9B,GAAIM,EAAMG,UAAsC,MAA1BH,EAAMG,SAASG,SAAmBD,EAAgBE,OAAQ,CAC9EF,EAAgBE,QAAS,EAEzB,IAEE,MAAMC,EAAeZ,aAAaC,QAAQ,gBAE1C,IAAKW,EAGH,OADAC,OAAOC,SAASC,KAAO,SAChBV,QAAQC,OAAOF,GAIxB,MAAMG,QAAiBjB,IAAM0B,KAAK,GAADb,OAAId,EAAI4B,SAASzB,QAAO,uBAAuB,CAC9EoB,iBAIF,GAAIL,EAASW,MAAQX,EAASW,KAAKC,YAMjC,OAJAnB,aAAaoB,QAAQ,cAAeb,EAASW,KAAKC,aAGlDV,EAAgBP,QAAuB,cAAC,UAAAC,OAAaI,EAASW,KAAKC,aAC5D9B,EAAIoB,EAEf,CAAE,MAAOY,GAKP,OAHArB,aAAasB,WAAW,eACxBtB,aAAasB,WAAW,gBACxBT,OAAOC,SAASC,KAAO,yBAChBV,QAAQC,OAAOe,EACxB,CACF,CAEA,OAAOhB,QAAQC,OAAOF,KAKnB,MAAMmB,EACAC,GAAanC,EAAI2B,KAAK,iBAAkBQ,GADxCD,EAEHE,GAAgBpC,EAAI2B,KAAK,cAAeS,GAFrCF,EAGHG,IAAMrC,EAAI2B,KAAK,gBAHZO,EAIKI,IAAMtC,EAAIuC,IAAI,YAJnBL,EAKKC,GAAanC,EAAIwC,IAAI,WAAYL,GALtCD,EAMMO,GAAUzC,EAAI2B,KAAK,wBAAyB,CAAEc,UANpDP,EAOIQ,CAAChC,EAAOiC,IAAa3C,EAAI2B,KAAK,uBAAwB,CAAEjB,QAAOiC,aA4EjE3C,I,OCvJf,MAAM4C,EAAcC,0BAGPC,EAAUA,IAAMC,qBAAWH,GAG3BI,EAAeC,IAAmB,IAAlB,SAAEC,GAAUD,EACvC,MAAOE,EAAMC,GAAWC,mBAAS,OAC1BC,EAASC,GAAcF,oBAAS,IAChCtC,EAAOyC,GAAYH,mBAAS,MAC7BI,EAAWC,cAGjBC,oBAAU,KACUxC,WAGhB,GAFcR,aAAaC,QAAQ,eAGjC,IACE,MAAMM,QAAiBgB,IACvBkB,EAAQlC,EAASW,KAAKsB,KACxB,CAAE,MAAOpC,GAI+C,IAAD6C,EAAAC,EAArD,GAHAC,QAAQ/C,MAAM,2DAA0DA,GAGpEA,EAAMG,UAAsC,MAA1BH,EAAMG,SAASG,OACnCmC,GAAuB,QAAdI,EAAA7C,EAAMG,gBAAQ,IAAA0C,GAAM,QAANC,EAAdD,EAAgB/B,YAAI,IAAAgC,OAAN,EAAdA,EAAsBE,UAAW,sBAE9C,CAGFR,GAAW,IAGbS,IACC,IAGH,MA6GMC,EAAQ,CACZd,OACAG,UACAvC,QACAmD,SAjHe/C,UACf,IACEoC,GAAW,GACX,MAAMrC,QAAiBgB,EAAqBC,GAS5C,OANAxB,aAAaoB,QAAQ,cAAeb,EAASW,KAAKsC,OAAOrC,aACzDnB,aAAaoB,QAAQ,eAAgBb,EAASW,KAAKsC,OAAO5C,cAG1D6B,EAAQlC,EAASW,KAAKsB,MAEfjC,EAASW,IAClB,CAAE,MAAOd,GAAQ,IAADqD,EAAAC,EAEd,MADAb,GAAuB,QAAdY,EAAArD,EAAMG,gBAAQ,IAAAkD,GAAM,QAANC,EAAdD,EAAgBvC,YAAI,IAAAwC,OAAN,EAAdA,EAAsBN,UAAW,gCACpChD,CACR,CAAC,QACCwC,GAAW,EACb,GAgGAe,MA7FYnD,UACZ,IACEoC,GAAW,GACX,MAAMrC,QAAiBgB,EAAkBE,GASzC,OANAzB,aAAaoB,QAAQ,cAAeb,EAASW,KAAKsC,OAAOrC,aACzDnB,aAAaoB,QAAQ,eAAgBb,EAASW,KAAKsC,OAAO5C,cAG1D6B,EAAQlC,EAASW,KAAKsB,MAEfjC,EAASW,IAClB,CAAE,MAAOd,GAAQ,IAADwD,EAAAC,EAEd,MADAhB,GAAuB,QAAde,EAAAxD,EAAMG,gBAAQ,IAAAqD,GAAM,QAANC,EAAdD,EAAgB1C,YAAI,IAAA2C,OAAN,EAAdA,EAAsBT,UAAW,+BACpChD,CACR,CAAC,QACCwC,GAAW,EACb,GA4EAlB,OAzEalB,UACb,IACEoC,GAAW,SAGLrB,IAGNvB,aAAasB,WAAW,eACxBtB,aAAasB,WAAW,gBAGxBmB,EAAQ,MAGRK,EAAS,SACX,CAAE,MAAO1C,GACP+C,QAAQ/C,MAAM,oCAAkCA,EAClD,CAAC,QACCwC,GAAW,EACb,GAsDAkB,cAnDoBtD,UACpB,IACEoC,GAAW,GACX,MAAMrC,QAAiBgB,EAA0BC,GAKjD,OAFAiB,EAAQlC,EAASW,KAAKsB,MAEfjC,EAASW,IAClB,CAAE,MAAOd,GAAQ,IAAD2D,EAAAC,EAEd,MADAnB,GAAuB,QAAdkB,EAAA3D,EAAMG,gBAAQ,IAAAwD,GAAM,QAANC,EAAdD,EAAgB7C,YAAI,IAAA8C,OAAN,EAAdA,EAAsBZ,UAAW,8CACpChD,CACR,CAAC,QACCwC,GAAW,EACb,GAsCAqB,eAnCqBzD,UACrB,IACEoC,GAAW,GAEX,aADuBrB,EAA2BO,IAClCZ,IAClB,CAAE,MAAOd,GAAQ,IAAD8D,EAAAC,EAEd,MADAtB,GAAuB,QAAdqB,EAAA9D,EAAMG,gBAAQ,IAAA2D,GAAM,QAANC,EAAdD,EAAgBhD,YAAI,IAAAiD,OAAN,EAAdA,EAAsBf,UAAW,oDACpChD,CACR,CAAC,QACCwC,GAAW,EACb,GA0BAb,cAvBoBvB,MAAOT,EAAOiC,KAClC,IACEY,GAAW,GAEX,aADuBrB,EAA0BxB,EAAOiC,IACxCd,IAClB,CAAE,MAAOd,GAAQ,IAADgE,EAAAC,EAEd,MADAxB,GAAuB,QAAduB,EAAAhE,EAAMG,gBAAQ,IAAA6D,GAAM,QAANC,EAAdD,EAAgBlD,YAAI,IAAAmD,OAAN,EAAdA,EAAsBjB,UAAW,yDACpChD,CACR,CAAC,QACCwC,GAAW,EACb,GAcA0B,kBAAmB9B,GAGrB,OACE+B,cAACtC,EAAYuC,SAAQ,CAAClB,MAAOA,EAAMf,SAChCA,KAKQN,I,4HCvJf,MAAMwC,EAAmBC,IAAW,CAClC5C,MAAO4C,MACJ5C,MAAM,0BACN6C,SAAS,sBACZ3C,SAAU0C,MACPC,SAAS,gCA+JCC,MA5JDA,KAAO,IAADC,EAAAC,EAClB,MAAM,MAAEnB,GAAUxB,IACZW,EAAWC,cACXjC,EAAWiE,eACVpC,EAASC,GAAcF,oBAAS,IAChCtC,EAAOyC,GAAYH,mBAAS,MAG7BsC,EAAiBlE,EAASmE,OAAOC,SAAS,mBAG1CC,GAAqB,QAAdN,EAAA/D,EAASsE,aAAK,IAAAP,GAAM,QAANC,EAAdD,EAAgBM,YAAI,IAAAL,OAAN,EAAdA,EAAsBO,WAAY,aAGzCC,EAASC,YAAU,CACvBC,cAAe,CACb1D,MAAO,GACPE,SAAU,GACVyD,YAAY,GAEdhB,mBACAiB,SAAUlF,UACR,IACEoC,GAAW,GACXC,EAAS,YAEHc,EAAM,CACV7B,MAAO6D,EAAO7D,MACdE,SAAU2D,EAAO3D,WAInBc,EAASqC,EAAM,CAAES,SAAS,GAC5B,CAAE,MAAOxF,GAAQ,IAAD6C,EAAAC,EACdC,QAAQ/C,MAAM,uBAAwBA,GACtCyC,GAAuB,QAAdI,EAAA7C,EAAMG,gBAAQ,IAAA0C,GAAM,QAANC,EAAdD,EAAgB/B,YAAI,IAAAgC,OAAN,EAAdA,EAAsBE,UAAW,8BAC5C,CAAC,QACCR,GAAW,EACb,KAIJ,OACE2B,cAACsB,IAAS,CAACC,UAAU,OAAOC,SAAS,KAAIxD,SACvCyD,eAACC,IAAG,CACFC,GAAI,CACFC,UAAW,EACXC,QAAS,OACTC,cAAe,SACfC,WAAY,UACZ/D,SAAA,CAGFgC,cAACgC,IAAU,CAACT,UAAU,KAAKU,QAAQ,KAAKN,GAAI,CAAEO,GAAI,GAAIlE,SAAC,oBAIvDyD,eAACU,IAAK,CAACC,UAAW,EAAGT,GAAI,CAAEU,EAAG,EAAGC,MAAO,QAAStE,SAAA,CAC/CgC,cAACgC,IAAU,CAACT,UAAU,KAAKU,QAAQ,KAAKN,GAAI,CAAEO,GAAI,EAAGK,UAAW,UAAWvE,SAAC,cAK3EnC,GACCmE,cAACwC,IAAK,CAACC,SAAS,QAAQd,GAAI,CAAEO,GAAI,GAAIlE,SACnCnC,IAKJ4E,GACCT,cAACwC,IAAK,CAACC,SAAS,OAAOd,GAAI,CAAEO,GAAI,GAAIlE,SAAC,0DAMxCyD,eAAA,QAAMN,SAAUJ,EAAO2B,aAAa1E,SAAA,CAClCgC,cAAC2C,IAAS,CACRC,OAAO,SACPC,WAAS,EACTC,GAAG,QACHC,MAAM,gBACNC,KAAK,QACLC,aAAa,QACbC,WAAS,EACTnE,MAAOgC,EAAOK,OAAO7D,MACrB4F,SAAUpC,EAAOqC,aACjBC,OAAQtC,EAAOuC,WACfzH,MAAOkF,EAAOwC,QAAQhG,OAASiG,QAAQzC,EAAO0C,OAAOlG,OACrDmG,WAAY3C,EAAOwC,QAAQhG,OAASwD,EAAO0C,OAAOlG,QAGpDyC,cAAC2C,IAAS,CACRC,OAAO,SACPC,WAAS,EACTG,KAAK,WACLD,MAAM,eACNY,KAAK,WACLb,GAAG,WACHG,aAAa,mBACblE,MAAOgC,EAAOK,OAAO3D,SACrB0F,SAAUpC,EAAOqC,aACjBC,OAAQtC,EAAOuC,WACfzH,MAAOkF,EAAOwC,QAAQ9F,UAAY+F,QAAQzC,EAAO0C,OAAOhG,UACxDiG,WAAY3C,EAAOwC,QAAQ9F,UAAYsD,EAAO0C,OAAOhG,WAGvDuC,cAAC4D,IAAgB,CACfC,QACE7D,cAAC8D,IAAQ,CACPd,KAAK,aACLe,MAAM,UACNC,QAASjD,EAAOK,OAAOF,WACvBiC,SAAUpC,EAAOqC,eAGrBL,MAAM,uBAGR/C,cAACiE,IAAM,CACLN,KAAK,SACLd,WAAS,EACTZ,QAAQ,YACRN,GAAI,CAAEuC,GAAI,EAAGhC,GAAI,GACjBiC,SAAU/F,EAAQJ,SAEjBI,EAAU4B,cAACoE,IAAgB,CAACC,KAAM,KAAS,cAG9C5C,eAAC6C,IAAI,CAACC,WAAS,EAAAvG,SAAA,CACbgC,cAACsE,IAAI,CAACE,MAAI,EAACC,IAAE,EAAAzG,SACXgC,cAAC0E,IAAI,CAACnD,UAAWoD,IAAYC,GAAG,mBAAmB3C,QAAQ,QAAOjE,SAAC,+BAIrEgC,cAACsE,IAAI,CAACE,MAAI,EAAAxG,SACRgC,cAAC0E,IAAI,CAACnD,UAAWoD,IAAYC,GAAG,YAAY3C,QAAQ,QAAOjE,SACxD,0CAQXgC,cAAC0B,IAAG,CAACwC,GAAI,EAAElG,SACTyD,eAACO,IAAU,CAACC,QAAQ,QAAQ8B,MAAM,iBAAiBc,MAAM,SAAQ7G,SAAA,CAAC,SAC7D,IAAI8G,MAAOC,cAAc,kCCjKxC,MAAMC,EAAe9J,mIAAYC,mBAAqB,4BAEhD+E,EAAmBC,IAAW,CAClC5C,MAAO4C,MACJ5C,MAAM,0BACN6C,SAAS,wBAwGC6E,MArGQA,KACrB,MAAM1G,EAAWC,eACVJ,EAASC,GAAcF,oBAAS,IAChCtC,EAAOyC,GAAYH,mBAAS,OAC5B+G,EAAgBC,GAAqBhH,mBAAS,MAE/C4C,EAASC,YAAU,CACvBC,cAAe,CACb1D,MAAO,IAET2C,iBAAgB,EAChBiB,SAAUlF,UACR,IACEoC,GAAW,GACXC,EAAS,MACT6G,EAAkB,MAElB,MAAMnJ,QAAiBjB,IAAM0B,KAAK,GAADb,OAAIoJ,EAAY,yBAAyB,CACxEzH,MAAO6D,EAAO7D,SAKV,WAAE6H,GAAepJ,EAASW,KAEhCwI,EAAkB,iGAGlBE,WAAW,KACT9G,EAAS,mBAAD3C,OAAoBwJ,KAC3B,IAEL,CAAE,MAAOvJ,GAAQ,IAAD6C,EAAAC,EACdC,QAAQ/C,MAAM,oDAAkDA,GAChEyC,GAAuB,QAAdI,EAAA7C,EAAMG,gBAAQ,IAAA0C,GAAM,QAANC,EAAdD,EAAgB/B,YAAI,IAAAgC,OAAN,EAAdA,EAAsBE,UAAW,2BAC5C,CAAC,QACCR,GAAW,EACb,KAIJ,OACE2B,cAACsB,IAAS,CAACC,UAAU,OAAOC,SAAS,KAAIxD,SACvCyD,eAACC,IAAG,CACFC,GAAI,CACFC,UAAW,EACXC,QAAS,OACTC,cAAe,SACfC,WAAY,UACZ/D,SAAA,CAEFgC,cAACgC,IAAU,CAACT,UAAU,KAAKU,QAAQ,KAAKN,GAAI,CAAEO,GAAI,GAAIlE,SAAC,oBAIvDyD,eAACU,IAAK,CAACC,UAAW,EAAGT,GAAI,CAAEU,EAAG,EAAGC,MAAO,QAAStE,SAAA,CAC/CgC,cAACgC,IAAU,CAACT,UAAU,KAAKU,QAAQ,KAAKN,GAAI,CAAEO,GAAI,EAAGK,UAAW,UAAWvE,SAAC,2BAI3EnC,GAASmE,cAACwC,IAAK,CAACC,SAAS,QAAQd,GAAI,CAAEO,GAAI,GAAIlE,SAAEnC,IACjDqJ,GAAkBlF,cAACwC,IAAK,CAACC,SAAS,UAAUd,GAAI,CAAEO,GAAI,GAAIlE,SAAEkH,IAE7DzD,eAAA,QAAMN,SAAUJ,EAAO2B,aAAa1E,SAAA,CAClCgC,cAAC2C,IAAS,CACRC,OAAO,SACPC,WAAS,EACTC,GAAG,QACHC,MAAM,gBACNC,KAAK,QACLC,aAAa,QACbC,WAAS,EACTnE,MAAOgC,EAAOK,OAAO7D,MACrB4F,SAAUpC,EAAOqC,aACjBC,OAAQtC,EAAOuC,WACfzH,MAAOkF,EAAOwC,QAAQhG,OAASiG,QAAQzC,EAAO0C,OAAOlG,OACrDmG,WAAY3C,EAAOwC,QAAQhG,OAASwD,EAAO0C,OAAOlG,QAGpDyC,cAACiE,IAAM,CACLN,KAAK,SACLd,WAAS,EACTZ,QAAQ,YACRN,GAAI,CAAEuC,GAAI,EAAGhC,GAAI,GACjBiC,SAAU/F,EAAQJ,SAEjBI,EAAU4B,cAACoE,IAAgB,CAACC,KAAM,KAAS,YAG9CrE,cAAC0B,IAAG,CAACa,UAAU,SAAQvE,SACrBgC,cAAC0E,IAAI,CAACnD,UAAWoD,IAAYC,GAAG,SAAS3C,QAAQ,QAAOjE,SAAC,2CCnGvE,MAAMgH,EAAe9J,mIAAYC,mBAAqB,4BAEhD+E,EAAmBC,IAAW,CAClC1C,SAAU0C,MACPmF,IAAI,EAAG,0DACPlF,SAAS,8BACZmF,gBAAiBpF,MACdqF,MAAM,CAACrF,IAAQ,YAAa,MAAO,0CACnCC,SAAS,iDA4GCqF,MAzGOA,KACpB,MAAMlH,EAAWC,eACX,MAAEhD,GAAUkK,eACXtH,EAASC,GAAcF,oBAAS,IAChCtC,EAAOyC,GAAYH,mBAAS,OAC5B+G,EAAgBC,GAAqBhH,mBAAS,MAE/C4C,EAASC,YAAU,CACvBC,cAAe,CACbxD,SAAU,GACV8H,gBAAiB,IAEnBrF,iBAAgB,EAChBiB,SAAUlF,UACR,IACEoC,GAAW,GACXC,EAAS,MACT6G,EAAkB,YAEZpK,IAAM0B,KAAK,GAADb,OAAIoJ,EAAY,wBAAwB,CACtDxJ,MAAOA,EACPiC,SAAU2D,EAAO3D,WAGnB0H,EAAkB,+HAElBE,WAAW,KACT9G,EAAS,WACR,IAEL,CAAE,MAAO1C,GAAQ,IAAD6C,EAAAC,EACdC,QAAQ/C,MAAM,yCAAuCA,GACrDyC,GAAuB,QAAdI,EAAA7C,EAAMG,gBAAQ,IAAA0C,GAAM,QAANC,EAAdD,EAAgB/B,YAAI,IAAAgC,OAAN,EAAdA,EAAsBE,UAAW,2BAC5C,CAAC,QACCR,GAAW,EACb,KAIJ,OACE2B,cAACsB,IAAS,CAACC,UAAU,OAAOC,SAAS,KAAIxD,SACvCyD,eAACC,IAAG,CACFC,GAAI,CACFC,UAAW,EACXC,QAAS,OACTC,cAAe,SACfC,WAAY,UACZ/D,SAAA,CAEFgC,cAACgC,IAAU,CAACT,UAAU,KAAKU,QAAQ,KAAKN,GAAI,CAAEO,GAAI,GAAIlE,SAAC,oBAIvDyD,eAACU,IAAK,CAACC,UAAW,EAAGT,GAAI,CAAEU,EAAG,EAAGC,MAAO,QAAStE,SAAA,CAC/CgC,cAACgC,IAAU,CAACT,UAAU,KAAKU,QAAQ,KAAKN,GAAI,CAAEO,GAAI,EAAGK,UAAW,UAAWvE,SAAC,qCAI3EnC,GAASmE,cAACwC,IAAK,CAACC,SAAS,QAAQd,GAAI,CAAEO,GAAI,GAAIlE,SAAEnC,IACjDqJ,GAAkBlF,cAACwC,IAAK,CAACC,SAAS,UAAUd,GAAI,CAAEO,GAAI,GAAIlE,SAAEkH,IAE7DzD,eAAA,QAAMN,SAAUJ,EAAO2B,aAAa1E,SAAA,CAClCgC,cAAC2C,IAAS,CACRC,OAAO,SACPC,WAAS,EACTG,KAAK,WACLD,MAAM,uBACNY,KAAK,WACLb,GAAG,WACH/D,MAAOgC,EAAOK,OAAO3D,SACrB0F,SAAUpC,EAAOqC,aACjBC,OAAQtC,EAAOuC,WACfzH,MAAOkF,EAAOwC,QAAQ9F,UAAY+F,QAAQzC,EAAO0C,OAAOhG,UACxDiG,WAAY3C,EAAOwC,QAAQ9F,UAAYsD,EAAO0C,OAAOhG,WAEvDuC,cAAC2C,IAAS,CACRC,OAAO,SACPC,WAAS,EACTG,KAAK,kBACLD,MAAM,4BACNY,KAAK,WACLb,GAAG,kBACH/D,MAAOgC,EAAOK,OAAOmE,gBACrBpC,SAAUpC,EAAOqC,aACjBC,OAAQtC,EAAOuC,WACfzH,MAAOkF,EAAOwC,QAAQgC,iBAAmB/B,QAAQzC,EAAO0C,OAAO8B,iBAC/D7B,WAAY3C,EAAOwC,QAAQgC,iBAAmBxE,EAAO0C,OAAO8B,kBAG9DvF,cAACiE,IAAM,CACLN,KAAK,SACLd,WAAS,EACTZ,QAAQ,YACRN,GAAI,CAAEuC,GAAI,EAAGhC,GAAI,GACjBiC,SAAU/F,EAAQJ,SAEjBI,EAAU4B,cAACoE,IAAgB,CAACC,KAAM,KAAS,iCCrF1D,MAAMsB,EAAe5H,IAAmB,IAAlB,SAAEC,GAAUD,EAChC,MAAM,gBAAEgC,EAAe,QAAE3B,GAAYR,IAGrC,OAAIQ,EACK4B,cAAA,OAAAhC,SAAK,kBAIT+B,EAKE/B,EAJEgC,cAAC4F,IAAQ,CAAChB,GAAG,YAQlBiB,EAAQC,YAAY,CACxBC,QAAS,CACPC,KAAM,QACNC,QAAS,CACPC,KAAM,WAERC,UAAW,CACTD,KAAM,YAGVE,WAAY,CACVC,WAAY,CACV,UACA,SACA,mBACA,QACA,cACAC,KAAK,QA6KIC,MAzKHA,IAER9E,eAAC+E,IAAa,CAACX,MAAOA,EAAM7H,SAAA,CAC1BgC,cAACyG,IAAW,IACZzG,cAAC0G,IAAoB,CAACC,YAAaC,IAAgBC,cAAeC,IAAG9I,SACnEgC,cAAC+G,IAAM,CAAA/I,SACLgC,cAAClC,EAAY,CAAAE,SACXyD,eAACuF,IAAM,CAAAhJ,SAAA,CAELgC,cAACiH,IAAK,CAACC,KAAK,SAASC,QAASnH,cAACK,EAAK,MACpCL,cAACiH,IAAK,CAACC,KAAK,mBAAmBC,QAASnH,cAACiF,EAAc,MACvDjF,cAACiH,IAAK,CAACC,KAAK,yBAAyBC,QAASnH,cAACyF,EAAa,MAM5DzF,cAACiH,IAAK,CACJC,KAAK,IACLC,QACEnH,cAAC2F,EAAY,CAAA3H,SACXgC,cAAC4F,IAAQ,CAAChB,GAAG,aAAavD,SAAO,oBCrFtC+F,MAZSC,IAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,KAAKxJ,IAAkD,IAAjD,OAAEyJ,EAAM,OAAEC,EAAM,OAAEC,EAAM,OAAEC,EAAM,QAAEC,GAAS7J,EACpEyJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,MCFDQ,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACHjI,cAACkI,IAAMC,WAAU,CAAAnK,SACfgC,cAACuG,EAAG,OAORa,G","file":"static/js/main.146dd1ee.chunk.js","sourcesContent":["// frontend/src/services/api.js\r\nimport axios from 'axios';\r\n\r\n// Créer une instance axios avec l'URL de base de l'API\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || 'http://localhost:5000/api'\r\n});\r\n\r\n// Intercepteur pour ajouter le token d'authentification à toutes les requêtes\r\napi.interceptors.request.use(\r\n  config => {\r\n    const token = localStorage.getItem('accessToken');\r\n    \r\n    if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Intercepteur pour gérer les erreurs et rafraîchir le token si nécessaire\r\napi.interceptors.response.use(\r\n  response => {\r\n    return response;\r\n  },\r\n  async error => {\r\n    const originalRequest = error.config;\r\n    \r\n    // Si l'erreur est 401 (non autorisé) et que ce n'est pas déjà une tentative de rafraîchissement\r\n    if (error.response && error.response.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n      \r\n      try {\r\n        // Récupérer le refresh token\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        \r\n        if (!refreshToken) {\r\n          // Rediriger vers la page de connexion si pas de refresh token\r\n          window.location.href = '/login';\r\n          return Promise.reject(error);\r\n        }\r\n        \r\n        // Essayer de rafraîchir le token\r\n        const response = await axios.post(`${api.defaults.baseURL}/auth/refresh-token`, {\r\n          refreshToken\r\n        });\r\n        \r\n        // Si le rafraîchissement a réussi\r\n        if (response.data && response.data.accessToken) {\r\n          // Mettre à jour le token dans le stockage local\r\n          localStorage.setItem('accessToken', response.data.accessToken);\r\n          \r\n          // Mettre à jour l'en-tête de la requête originale et la renvoyer\r\n          originalRequest.headers['Authorization'] = `Bearer ${response.data.accessToken}`;\r\n          return api(originalRequest);\r\n        }\r\n      } catch (refreshError) {\r\n        // En cas d'échec du rafraîchissement, rediriger vers la page de connexion\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        window.location.href = '/login?session=expired';\r\n        return Promise.reject(refreshError);\r\n      }\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Service d'authentification\r\nexport const authService = {\r\n  register: (userData) => api.post('/auth/register', userData),\r\n  login: (credentials) => api.post('/auth/login', credentials),\r\n  logout: () => api.post('/auth/logout'),\r\n  getCurrentUser: () => api.get('/auth/me'),\r\n  updateProfile: (userData) => api.put('/auth/me', userData),\r\n  forgotPassword: (email) => api.post('/auth/forgot-password', { email }),\r\n  resetPassword: (token, password) => api.post('/auth/reset-password', { token, password })\r\n};\r\n\r\n// Service de gestion des clients\r\nexport const clientService = {\r\n  getAllClients: () => api.get('/clients'),\r\n  getClientById: (id) => api.get(`/clients/${id}`),\r\n  createClient: (clientData) => api.post('/clients', clientData),\r\n  updateClient: (id, clientData) => api.put(`/clients/${id}`, clientData),\r\n  deleteClient: (id) => api.delete(`/clients/${id}`),\r\n  getClientDocuments: (id) => api.get(`/clients/${id}/documents`),\r\n  getClientTasks: (id) => api.get(`/clients/${id}/tasks`),\r\n  getClientPayments: (id) => api.get(`/clients/${id}/payments`)\r\n};\r\n\r\n// Service de gestion des documents\r\nexport const documentService = {\r\n  getAllDocuments: () => api.get('/documents'),\r\n  getDocumentById: (id) => api.get(`/documents/${id}`),\r\n  createDocument: (documentData) => api.post('/documents', documentData),\r\n  updateDocument: (id, documentData) => api.put(`/documents/${id}`, documentData),\r\n  deleteDocument: (id) => api.delete(`/documents/${id}`),\r\n  sendDocument: (id) => api.post(`/documents/${id}/send`),\r\n  signDocument: (id, signatureData) => api.post(`/documents/${id}/sign`, signatureData),\r\n  getSignatureUrl: (id) => api.get(`/documents/${id}/signature-url`),\r\n  generatePdf: (id) => api.post(`/documents/${id}/generate-pdf`),\r\n  duplicateDocument: (id) => api.post(`/documents/${id}/duplicate`),\r\n  getDocumentTemplates: () => api.get('/documents/templates')\r\n};\r\n\r\n// Service de gestion des tâches\r\nexport const taskService = {\r\n  getAllTasks: () => api.get('/tasks'),\r\n  getTaskById: (id) => api.get(`/tasks/${id}`),\r\n  createTask: (taskData) => api.post('/tasks', taskData),\r\n  updateTask: (id, taskData) => api.put(`/tasks/${id}`, taskData),\r\n  deleteTask: (id) => api.delete(`/tasks/${id}`),\r\n  completeTask: (id) => api.post(`/tasks/${id}/complete`),\r\n  createRecurringTask: (taskData) => api.post('/tasks/recurring', taskData),\r\n  getTasksByDate: (date) => api.get(`/tasks/by-date?date=${date}`),\r\n  getTodayReminders: () => api.get('/tasks/reminders')\r\n};\r\n\r\n// Service de gestion des paiements\r\nexport const paymentService = {\r\n  getAllPayments: () => api.get('/payments'),\r\n  getPaymentById: (id) => api.get(`/payments/${id}`),\r\n  createPayment: (paymentData) => api.post('/payments', paymentData),\r\n  updatePayment: (id, paymentData) => api.put(`/payments/${id}`, paymentData),\r\n  deletePayment: (id) => api.delete(`/payments/${id}`),\r\n  markAsPaid: (id) => api.post(`/payments/${id}/mark-as-paid`),\r\n  payInvoice: (invoiceId, paymentData) => api.post(`/payments/invoice/${invoiceId}/pay`, paymentData),\r\n  getPaymentStats: () => api.get('/payments/stats'),\r\n  getOverduePayments: () => api.get('/payments/overdue')\r\n};\r\n\r\n// Service de tableau de bord\r\nexport const dashboardService = {\r\n  getSummary: () => api.get('/dashboard/summary'),\r\n  getRevenueStats: () => api.get('/dashboard/revenue'),\r\n  getTasksSummary: () => api.get('/dashboard/tasks-summary'),\r\n  getClientActivity: () => api.get('/dashboard/client-activity'),\r\n  getDocumentsStatus: () => api.get('/dashboard/documents-status'),\r\n  getRecentActivity: () => api.get('/dashboard/recent-activity')\r\n};\r\n\r\n// Service d'IA\r\nexport const aiService = {\r\n  generateEmail: (data) => api.post('/ai/generate-email', data),\r\n  generateProposal: (data) => api.post('/ai/generate-proposal', data),\r\n  summarizeClient: (clientId) => api.post('/ai/summarize-client', { clientId }),\r\n  analyzeDocuments: (documentIds) => api.post('/ai/analyze-documents', { documentIds }),\r\n  generateContent: (prompt) => api.post('/ai/generate-content', { prompt })\r\n};\r\n\r\nexport { api };\r\nexport default api;\r\n","// frontend/src/contexts/AuthContext.jsx\r\nimport React, { createContext, useState, useContext, useEffect } from 'react';\r\nimport { authService } from '../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// Créer le contexte d'authentification\r\nconst AuthContext = createContext();\r\n\r\n// Hook personnalisé pour utiliser le contexte d'authentification\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\n// Fournisseur du contexte d'authentification\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  // Vérifier si l'utilisateur est authentifié au chargement\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      const token = localStorage.getItem('accessToken');\r\n      \r\n      if (token) {\r\n        try {\r\n          const response = await authService.getCurrentUser();\r\n          setUser(response.data.user);\r\n        } catch (error) {\r\n          console.error('Erreur lors de la vérification de l\\'authentification:', error);\r\n          // Si l'erreur n'est pas 401, on la gère ici\r\n          // Les erreurs 401 sont gérées par l'intercepteur axios\r\n          if (error.response && error.response.status !== 401) {\r\n            setError(error.response?.data?.message || 'Erreur de connexion');\r\n          }\r\n        }\r\n      }\r\n      \r\n      setLoading(false);\r\n    };\r\n\r\n    checkAuth();\r\n  }, []);\r\n\r\n  // Fonctions d'authentification\r\n  const register = async (userData) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await authService.register(userData);\r\n      \r\n      // Stocker les tokens\r\n      localStorage.setItem('accessToken', response.data.tokens.accessToken);\r\n      localStorage.setItem('refreshToken', response.data.tokens.refreshToken);\r\n      \r\n      // Mettre à jour l'état utilisateur\r\n      setUser(response.data.user);\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de l\\'inscription');\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const login = async (credentials) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await authService.login(credentials);\r\n      \r\n      // Stocker les tokens\r\n      localStorage.setItem('accessToken', response.data.tokens.accessToken);\r\n      localStorage.setItem('refreshToken', response.data.tokens.refreshToken);\r\n      \r\n      // Mettre à jour l'état utilisateur\r\n      setUser(response.data.user);\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la connexion');\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const logout = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Appeler l'API de déconnexion (optionnel)\r\n      await authService.logout();\r\n      \r\n      // Supprimer les tokens du stockage local\r\n      localStorage.removeItem('accessToken');\r\n      localStorage.removeItem('refreshToken');\r\n      \r\n      // Réinitialiser l'état utilisateur\r\n      setUser(null);\r\n      \r\n      // Rediriger vers la page de connexion\r\n      navigate('/login');\r\n    } catch (error) {\r\n      console.error('Erreur lors de la déconnexion:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateProfile = async (userData) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await authService.updateProfile(userData);\r\n      \r\n      // Mettre à jour l'état utilisateur\r\n      setUser(response.data.user);\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la mise à jour du profil');\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const forgotPassword = async (email) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await authService.forgotPassword(email);\r\n      return response.data;\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la demande de réinitialisation');\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetPassword = async (token, password) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await authService.resetPassword(token, password);\r\n      return response.data;\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la réinitialisation du mot de passe');\r\n      throw error;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Valeur du contexte\r\n  const value = {\r\n    user,\r\n    loading,\r\n    error,\r\n    register,\r\n    login,\r\n    logout,\r\n    updateProfile,\r\n    forgotPassword,\r\n    resetPassword,\r\n    isAuthenticated: !!user\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContext;\r\n","// frontend/src/pages/Login.jsx\r\nimport React, { useState } from 'react';\r\nimport { \r\n  Container, \r\n  Box, \r\n  Typography, \r\n  TextField, \r\n  Button, \r\n  Paper, \r\n  Link, \r\n  Grid, \r\n  Alert,\r\n  CircularProgress,\r\n  FormControlLabel,\r\n  Checkbox\r\n} from '@mui/material';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { Link as RouterLink, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\n// Schéma de validation\r\nconst validationSchema = Yup.object({\r\n  email: Yup.string()\r\n    .email('Adresse email invalide')\r\n    .required('L\\'email est requis'),\r\n  password: Yup.string()\r\n    .required('Le mot de passe est requis')\r\n});\r\n\r\nconst Login = () => {\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Vérifier si l'utilisateur a été redirigé après une déconnexion due à l'expiration de session\r\n  const sessionExpired = location.search.includes('session=expired');\r\n  \r\n  // Obtenir l'URL de redirection après connexion\r\n  const from = location.state?.from?.pathname || '/dashboard';\r\n\r\n  // Initialiser Formik\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n      rememberMe: false\r\n    },\r\n    validationSchema,\r\n    onSubmit: async (values) => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        await login({\r\n          email: values.email,\r\n          password: values.password\r\n        });\r\n        \r\n        // Rediriger vers la page de destination\r\n        navigate(from, { replace: true });\r\n      } catch (error) {\r\n        console.error('Erreur de connexion:', error);\r\n        setError(error.response?.data?.message || 'Erreur lors de la connexion');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Box\r\n        sx={{\r\n          marginTop: 8,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        {/* Logo ou titre */}\r\n        <Typography component=\"h1\" variant=\"h4\" sx={{ mb: 2 }}>\r\n          Admin Assistant\r\n        </Typography>\r\n        \r\n        <Paper elevation={3} sx={{ p: 4, width: '100%' }}>\r\n          <Typography component=\"h2\" variant=\"h5\" sx={{ mb: 3, textAlign: 'center' }}>\r\n            Connexion\r\n          </Typography>\r\n          \r\n          {/* Afficher le message d'erreur */}\r\n          {error && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n          \r\n          {/* Afficher un message si la session a expiré */}\r\n          {sessionExpired && (\r\n            <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n              Votre session a expiré. Veuillez vous reconnecter.\r\n            </Alert>\r\n          )}\r\n          \r\n          {/* Formulaire de connexion */}\r\n          <form onSubmit={formik.handleSubmit}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Adresse email\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              value={formik.values.email}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.email && Boolean(formik.errors.email)}\r\n              helperText={formik.touched.email && formik.errors.email}\r\n            />\r\n            \r\n            <TextField\r\n              margin=\"normal\"\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Mot de passe\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={formik.values.password}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.password && Boolean(formik.errors.password)}\r\n              helperText={formik.touched.password && formik.errors.password}\r\n            />\r\n            \r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox \r\n                  name=\"rememberMe\" \r\n                  color=\"primary\" \r\n                  checked={formik.values.rememberMe}\r\n                  onChange={formik.handleChange}\r\n                />\r\n              }\r\n              label=\"Se souvenir de moi\"\r\n            />\r\n            \r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n              disabled={loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : 'Connexion'}\r\n            </Button>\r\n            \r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link component={RouterLink} to=\"/forgot-password\" variant=\"body2\">\r\n                  Mot de passe oublié ?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link component={RouterLink} to=\"/register\" variant=\"body2\">\r\n                  {\"Pas de compte ? S'inscrire\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </Paper>\r\n        \r\n        {/* Pied de page */}\r\n        <Box mt={5}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\r\n            © {new Date().getFullYear()} Admin Assistant App\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\nimport {\n  Container,\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Paper,\n  Alert,\n  CircularProgress,\n  Link\n} from '@mui/material';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nconst validationSchema = Yup.object({\n  email: Yup.string()\n    .email('Adresse email invalide')\n    .required('L\\'email est requis'),\n});\n\nconst ForgotPassword = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        setError(null);\n        setSuccessMessage(null);\n\n        const response = await axios.post(`${API_BASE_URL}/auth/forgot-password`, {\n          email: values.email,\n        });\n\n        // NOTE: DEV-ONLY! In production, the token is sent by email.\n        // Here we get it from the response to redirect immediately.\n        const { resetToken } = response.data;\n        \n        setSuccessMessage('Un lien de réinitialisation a été généré. Vous allez être redirigé...');\n\n        // Redirect to the reset password page with the token\n        setTimeout(() => {\n          navigate(`/reset-password/${resetToken}`);\n        }, 2000);\n\n      } catch (error) {\n        console.error('Erreur lors de la demande de réinitialisation:', error);\n        setError(error.response?.data?.message || 'Une erreur est survenue.');\n      } finally {\n        setLoading(false);\n      }\n    },\n  });\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Typography component=\"h1\" variant=\"h4\" sx={{ mb: 2 }}>\n          Admin Assistant\n        </Typography>\n        \n        <Paper elevation={3} sx={{ p: 4, width: '100%' }}>\n          <Typography component=\"h2\" variant=\"h5\" sx={{ mb: 3, textAlign: 'center' }}>\n            Mot de passe oublié\n          </Typography>\n          \n          {error && <Alert severity=\"error\" sx={{ mb: 3 }}>{error}</Alert>}\n          {successMessage && <Alert severity=\"success\" sx={{ mb: 3 }}>{successMessage}</Alert>}\n          \n          <form onSubmit={formik.handleSubmit}>\n            <TextField\n              margin=\"normal\"\n              fullWidth\n              id=\"email\"\n              label=\"Adresse email\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              value={formik.values.email}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              error={formik.touched.email && Boolean(formik.errors.email)}\n              helperText={formik.touched.email && formik.errors.email}\n            />\n            \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={loading}\n            >\n              {loading ? <CircularProgress size={24} /> : 'Envoyer'}\n            </Button>\n            \n            <Box textAlign=\"center\">\n              <Link component={RouterLink} to=\"/login\" variant=\"body2\">\n                Retour à la connexion\n              </Link>\n            </Box>\n          </form>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default ForgotPassword;\n","import React, { useState } from 'react';\nimport {\n  Container,\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Paper,\n  Alert,\n  CircularProgress\n} from '@mui/material';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nconst validationSchema = Yup.object({\n  password: Yup.string()\n    .min(8, 'Le mot de passe doit contenir au moins 8 caractères')\n    .required('Le mot de passe est requis'),\n  confirmPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Les mots de passe doivent correspondre')\n    .required('La confirmation du mot de passe est requise'),\n});\n\nconst ResetPassword = () => {\n  const navigate = useNavigate();\n  const { token } = useParams(); // Get token from URL\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  const formik = useFormik({\n    initialValues: {\n      password: '',\n      confirmPassword: '',\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n        setError(null);\n        setSuccessMessage(null);\n\n        await axios.post(`${API_BASE_URL}/auth/reset-password`, {\n          token: token,\n          password: values.password,\n        });\n        \n        setSuccessMessage('Votre mot de passe a été réinitialisé avec succès. Vous allez être redirigé vers la page de connexion.');\n\n        setTimeout(() => {\n          navigate('/login');\n        }, 3000);\n\n      } catch (error) {\n        console.error('Erreur lors de la réinitialisation:', error);\n        setError(error.response?.data?.message || 'Une erreur est survenue.');\n      } finally {\n        setLoading(false);\n      }\n    },\n  });\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Typography component=\"h1\" variant=\"h4\" sx={{ mb: 2 }}>\n          Admin Assistant\n        </Typography>\n        \n        <Paper elevation={3} sx={{ p: 4, width: '100%' }}>\n          <Typography component=\"h2\" variant=\"h5\" sx={{ mb: 3, textAlign: 'center' }}>\n            Réinitialiser le mot de passe\n          </Typography>\n          \n          {error && <Alert severity=\"error\" sx={{ mb: 3 }}>{error}</Alert>}\n          {successMessage && <Alert severity=\"success\" sx={{ mb: 3 }}>{successMessage}</Alert>}\n          \n          <form onSubmit={formik.handleSubmit}>\n            <TextField\n              margin=\"normal\"\n              fullWidth\n              name=\"password\"\n              label=\"Nouveau mot de passe\"\n              type=\"password\"\n              id=\"password\"\n              value={formik.values.password}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              error={formik.touched.password && Boolean(formik.errors.password)}\n              helperText={formik.touched.password && formik.errors.password}\n            />\n            <TextField\n              margin=\"normal\"\n              fullWidth\n              name=\"confirmPassword\"\n              label=\"Confirmer le mot de passe\"\n              type=\"password\"\n              id=\"confirmPassword\"\n              value={formik.values.confirmPassword}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              error={formik.touched.confirmPassword && Boolean(formik.errors.confirmPassword)}\n              helperText={formik.touched.confirmPassword && formik.errors.confirmPassword}\n            />\n            \n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={loading}\n            >\n              {loading ? <CircularProgress size={24} /> : 'Réinitialiser'}\n            </Button>\n          </form>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default ResetPassword;\n","// frontend/src/App.jsx\r\nimport React from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { fr } from 'date-fns/locale';\r\n\r\n// Contextes\r\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\r\n\r\n// Pages\r\nimport Login from './pages/Login';\r\n// Autres imports à décommenter lorsque les pages seront créées\r\nimport ForgotPassword from './pages/ForgotPassword';\r\nimport ResetPassword from './pages/ResetPassword';\r\n/*\r\nimport Dashboard from './pages/Dashboard';\r\nimport Register from './pages/Register';\r\nimport Clients from './pages/Clients';\r\nimport ClientDetail from './pages/ClientDetail';\r\nimport Documents from './pages/Documents';\r\nimport DocumentDetail from './pages/DocumentDetail';\r\nimport DocumentCreate from './pages/DocumentCreate';\r\nimport Tasks from './pages/Tasks';\r\nimport TaskDetail from './pages/TaskDetail';\r\nimport Payments from './pages/Payments';\r\nimport PaymentDetail from './pages/PaymentDetail';\r\nimport Settings from './pages/Settings';\r\nimport Profile from './pages/Profile';\r\nimport NotFound from './pages/NotFound';\r\n*/\r\n\r\n// Composants de mise en page\r\n// import MainLayout from './components/layout/MainLayout';\r\n\r\n// Route privée qui nécessite une authentification\r\nconst PrivateRoute = ({ children }) => {\r\n  const { isAuthenticated, loading } = useAuth();\r\n\r\n  // Afficher un indicateur de chargement pendant la vérification de l'authentification\r\n  if (loading) {\r\n    return <div>Chargement...</div>;\r\n  }\r\n\r\n  // Rediriger vers la page de connexion si l'utilisateur n'est pas authentifié\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n\r\n  // Rendre le composant enfant si l'utilisateur est authentifié\r\n  return children;\r\n};\r\n\r\n// Thème de l'application\r\nconst theme = createTheme({\r\n  palette: {\r\n    mode: 'light', // ou 'dark'\r\n    primary: {\r\n      main: '#1976d2',\r\n    },\r\n    secondary: {\r\n      main: '#f50057',\r\n    },\r\n  },\r\n  typography: {\r\n    fontFamily: [\r\n      'Poppins',\r\n      'Roboto',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n    ].join(','),\r\n  },\r\n});\r\n\r\nconst App = () => {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={fr}>\r\n        <Router>\r\n          <AuthProvider>\r\n            <Routes>\r\n              {/* Routes publiques */}\r\n              <Route path=\"/login\" element={<Login />} />\r\n              <Route path=\"/forgot-password\" element={<ForgotPassword />} />\r\n              <Route path=\"/reset-password/:token\" element={<ResetPassword />} />\r\n              {/* \r\n              <Route path=\"/register\" element={<Register />} />\r\n              */}\r\n              \r\n              {/* Routes privées - à décommenter lorsque les composants seront créés */}\r\n              <Route \r\n                path=\"/\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <Navigate to=\"/dashboard\" replace />\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              {/*\r\n              <Route \r\n                path=\"/dashboard\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <Dashboard />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/clients\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <Clients />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/clients/:id\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <ClientDetail />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/documents\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <Documents />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/documents/new\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <DocumentCreate />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/documents/:id\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <DocumentDetail />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/tasks\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <Tasks />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/tasks/:id\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <TaskDetail />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/payments\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <Payments />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/payments/:id\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <PaymentDetail />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/settings\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <Settings />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route \r\n                path=\"/profile\" \r\n                element={\r\n                  <PrivateRoute>\r\n                    <MainLayout>\r\n                      <Profile />\r\n                    </MainLayout>\r\n                  </PrivateRoute>\r\n                } \r\n              />\r\n              \r\n              <Route path=\"*\" element={<NotFound />} />\r\n              */}\r\n            </Routes>\r\n          </AuthProvider>\r\n        </Router>\r\n      </LocalizationProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// frontend/src/reportWebVitals.js\r\nconst reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// frontend/src/index.js\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}